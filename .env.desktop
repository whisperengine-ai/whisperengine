# WhisperEngine Desktop Configuration
# Local file-based storage for complete desktop app functionality

# =============================================================================
# ENVIRONMENT MODE
# =============================================================================
ENV_MODE=desktop

# =============================================================================
# ADMIN AND USER CONFIGURATION  
# =============================================================================
ADMIN_USER_IDS=desktop_admin

# =============================================================================
# LLM CONFIGURATION (Ollama GPU-Accelerated)
# =============================================================================
# Use Ollama for GPU-accelerated local inference
LLM_CHAT_API_URL=http://localhost:11434/v1
LLM_MODEL_NAME=phi3:mini
USE_LOCAL_LLM=true
LOCAL_LLM_MODEL=phi3:mini
LLM_FACTS_MODEL=phi3:mini
LLM_EMBEDDING_MODEL=all-mpnet-base-v2

# External Embeddings Configuration (use local)
USE_EXTERNAL_EMBEDDINGS=false

# =============================================================================
# MEMORY SYSTEM - LOCAL FILE-BASED CHROMADB
# =============================================================================
# Use ChromaDB in local file persistence mode (no HTTP server needed)
USE_CHROMADB_HTTP=false
CHROMADB_PATH=~/.whisperengine/chromadb_data
CHROMADB_COLLECTION_NAME=user_memories
CHROMADB_GLOBAL_COLLECTION_NAME=global_facts

# Use local memory cache instead of Redis
USE_REDIS_CACHE=false
USE_LOCAL_MEMORY_CACHE=true
LOCAL_CACHE_DIR=~/.whisperengine/cache

# =============================================================================
# DATABASE CONFIGURATION - LOCAL SQLite ONLY
# =============================================================================
# Use SQLite instead of PostgreSQL for desktop
USE_SQLITE_DATABASE=true
SQLITE_DATABASE_PATH=~/.whisperengine/database/whisperengine.db
DATABASE_AUTO_MIGRATE=true

# Completely disable external databases
USE_POSTGRESQL=false
POSTGRES_HOST=disabled
POSTGRES_PORT=0
POSTGRES_DB=disabled
POSTGRES_USER=disabled
POSTGRES_PASSWORD=disabled

# =============================================================================
# PHASE CONFIGURATIONS
# =============================================================================
# Phase 1: Advanced NLP Configuration
ENABLE_PERSONALITY_PROFILING=true
ENABLE_ADVANCED_TOPIC_EXTRACTION=true
PERSONALITY_CONFIDENCE_THRESHOLD=0.7
NLP_SPACY_MODEL=en_core_web_lg

# Phase 2: Emotional Intelligence (local processing)
ENABLE_EMOTIONAL_INTELLIGENCE=true
USE_LOCAL_EMOTION_PROCESSING=true

# Phase 3: Memory System (local storage)
ENABLE_PHASE3_MEMORY=true
MEMORY_BACKEND=local

# Phase 4: Advanced Intelligence
ENABLE_PHASE4_INTELLIGENCE=true

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
DEBUG_MODE=true
LOG_LEVEL=INFO
DESKTOP_MODE=true

# Voice Support (optional - requires additional dependencies)
VOICE_SUPPORT_ENABLED=false

# =============================================================================
# CONVERSATION FEATURES
# =============================================================================
# Enable advanced conversation features
ENABLE_CONVERSATION_MEMORY=true
ENABLE_CONTEXT_AWARENESS=true
ENABLE_PERSONALITY_ADAPTATION=true

# Conversation persistence
CONVERSATION_HISTORY_LIMIT=1000
CONVERSATION_AUTO_SAVE=true

# =============================================================================
# BACKGROUND FEATURES (disabled for desktop simplicity)
# =============================================================================
# Disable background job scheduler for desktop
JOB_SCHEDULER_ENABLED=false
FOLLOW_UP_ENABLED=false
CLEANUP_ENABLED=true

# Local cleanup settings
CLEANUP_OLD_CONVERSATIONS_DAYS=90
CLEANUP_TEMP_FILES_HOURS=24

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Enable security features
ENABLE_INPUT_VALIDATION=true
ENABLE_SYSTEM_MESSAGE_SECURITY=true
ENABLE_CONTENT_FILTERING=true

# =============================================================================
# DESKTOP-SPECIFIC FEATURES
# =============================================================================
# System tray integration
ENABLE_SYSTEM_TRAY=true
START_MINIMIZED=false

# Desktop UI preferences
UI_THEME=dark
ENABLE_NOTIFICATIONS=true
AUTO_START=false

# Local storage paths
DATA_DIR=~/.whisperengine
LOG_DIR=~/.whisperengine/logs
CONFIG_DIR=~/.whisperengine/config
TEMP_DIR=~/.whisperengine/temp

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Optimize for desktop performance
MAX_CONVERSATION_CONTEXT=50
EMBEDDING_CACHE_SIZE=1000
MEMORY_CACHE_TIMEOUT_MINUTES=60

# Background processing
ENABLE_BACKGROUND_PROCESSING=true
MAX_BACKGROUND_TASKS=5

# =============================================================================
# DEVELOPMENT FEATURES (for desktop development)
# =============================================================================
ENABLE_HOT_RELOAD=false
ENABLE_DEBUG_UI=false
SAVE_CONVERSATION_LOGS=true

# AI Performance Tuning (all features enabled by default)
PERSONALITY_ADAPTATION_ENABLED=true         # Dynamic personality adjustment
CONVERSATION_CONTEXT_DEPTH=10               # Conversation history depth for adaptation
ENABLE_PROMPT_OPTIMIZATION=true             # Use optimized prompts for bundled models
OPTIMIZED_PROMPT_MODE=auto                  # auto|always|never - automatic selection
MAX_CONCURRENT_AI_OPERATIONS=3              # Limit concurrent AI operations
AI_RESPONSE_TIMEOUT=30                      # AI response timeout (seconds)
ENABLE_AI_CACHING=true                      # Cache AI responses for performance
EMOTION_API_TIMEOUT=5                       # External emotion API timeout (seconds)
EMOTION_CACHE_SIZE=1000                     # Emotional state cache entries
EMOTION_CONFIDENCE_THRESHOLD=0.7            # Minimum confidence for emotion detection
MEMORY_RETENTION_DAYS=30                    # Memory retention period
MEMORY_MAX_ENTRIES=10000                    # Maximum memory entries per user
ENABLE_MEMORY_COMPRESSION=true              # Compress old memories for efficiency
CHROMA_BATCH_SIZE=100                       # ChromaDB batch processing size
MEMORY_SEARCH_LIMIT=20                      # Maximum memory search results

# =============================================================================
# LOCAL MODEL CONFIGURATION (Offline Models)
# =============================================================================
# Use bundled local models instead of downloading from internet
USE_LOCAL_MODELS=true
LOCAL_MODELS_DIR=./models
LLM_LOCAL_EMBEDDING_MODEL=all-mpnet-base-v2
FALLBACK_EMBEDDING_MODEL=all-mpnet-base-v2

# Disable external model downloads for offline mode
HF_DATASETS_OFFLINE=1
TRANSFORMERS_OFFLINE=1

# Suppress tokenizer parallelism warnings in forked processes
TOKENIZERS_PARALLELISM=false
